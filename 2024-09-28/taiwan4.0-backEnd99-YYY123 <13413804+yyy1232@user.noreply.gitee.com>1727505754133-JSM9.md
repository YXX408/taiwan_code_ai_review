# Ai ä»£ç è¯„å®¡.
### ğŸ˜€ä»£ç è¯„åˆ†ï¼š75
#### ğŸ˜€ä»£ç é€»è¾‘ä¸ç›®çš„ï¼š
æ­¤æ¬¡ä»£ç ä¿®æ”¹æ¶‰åŠæ¸…ç†ä¸å¿…è¦çš„`System.out.println`è°ƒè¯•è¯­å¥ï¼Œæé«˜æ—¥å¿—è®°å½•çš„æ•´æ´åº¦ã€‚æ­¤å¤–ï¼Œè¿˜åŒ…æ‹¬å¯¹`Knife4j`çš„é…ç½®æ·»åŠ äº†è¯¦ç»†æ³¨é‡Šå’Œæ–°æ–‡æ¡£ç»“æ„ï¼Œä»¥åŠ å¼ºæ–‡æ¡£çš„å¯è¯»æ€§å’Œç®¡ç†ä¾¿åˆ©æ€§ã€‚
#### âœ…ä»£ç ä¼˜ç‚¹ï¼š
1. åˆ é™¤äº†ä¸å¿…è¦çš„è°ƒè¯•ä¿¡æ¯ï¼Œä½¿ä»£ç å˜å¾—æ›´æ•´æ´ã€‚
2. å¢åŠ äº†`Knife4j`çš„è¯¦ç»†é…ç½®ï¼Œæå‡äº†APIæ–‡æ¡£çš„å¯è¯»æ€§å’Œç»„ç»‡æ€§ã€‚
3. å¢åŠ äº†æ–‡æ¡£ä½¿ç”¨è¯´æ˜ï¼Œæœ‰åŠ©äºå›¢é˜Ÿæˆå‘˜ç†è§£å’Œä½¿ç”¨APIã€‚
4. å¼•å…¥äº†æ›´æ¨¡å—åŒ–çš„æ–‡æ¡£ç®¡ç†æ–¹æ¡ˆã€‚

#### ğŸ¤”é—®é¢˜ç‚¹ï¼š
1. **`System.out.println`è°ƒè¯•è¯­å¥**ï¼šè™½ç„¶åˆ é™¤äº†æ—¥å¿—è¾“å‡ºï¼Œä½†ç¼ºä¹é€‚å½“çš„æ—¥å¿—è®°å½•æœºåˆ¶ã€‚
2. **æ–‡æ¡£æ³¨é‡Š**ï¼šè™½ç„¶å¢å¼ºäº†APIæ–‡æ¡£ï¼Œä½†APIæ³¨é‡Šä»£ç ä¸­æ²¡æœ‰è¯¦ç»†è¯´æ˜å…·ä½“çš„æ¥å£å’Œå‚æ•°ç»†èŠ‚ï¼Œè¿™å¯èƒ½ç»™æ–°ç”¨æˆ·å¸¦æ¥å›°æ‰°ã€‚
3. **ç¼ºå°‘å¼‚å¸¸å¤„ç†**ï¼š`Knife4jConfiguration`ç±»ä¸­æ²¡æœ‰é€‚å½“çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œå¯èƒ½å¯¼è‡´è¿è¡Œæ—¶é”™è¯¯ã€‚
4. **ç¼ºå°‘æµ‹è¯•ä»£ç **ï¼šé’ˆå¯¹æ–‡æ¡£ç”Ÿæˆæ¨¡å—çš„æ·»åŠ å’Œé…ç½®å˜åŒ–ï¼Œç¼ºå°‘å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ï¼Œéš¾ä»¥ç¡®ä¿ç³»ç»Ÿå®‰å…¨æ€§å’Œç¨³å®šæ€§ã€‚

#### ğŸ¯ä¿®æ”¹å»ºè®®ï¼š
1. **å¼•å…¥æ—¥å¿—æ¡†æ¶**ï¼šå»ºè®®åœ¨é¡¹ç›®ä¸­å¼•å…¥SLF4Jæˆ–Logbackæ¥æ›¿ä»£`System.out.println`ï¼Œæé«˜æ—¥å¿—ç®¡ç†ã€‚
2. **ä¸°å¯ŒAPIæ³¨é‡Š**ï¼šå¢åŠ ä»£ç ä¸­APIæ–¹æ³•çš„è¯¦ç»†æ³¨é‡Šï¼Œä½¿APIæ–‡æ¡£æ›´è¯¦ç»†å’Œæ˜“æ‡‚ã€‚
3. **æ·»åŠ å¼‚å¸¸å¤„ç†**ï¼šåœ¨`Knife4jConfiguration`ç±»ä¸­æ·»åŠ å¿…è¦çš„å¼‚å¸¸å¤„ç†æœºåˆ¶ï¼Œæé«˜ç³»ç»Ÿçš„é²æ£’æ€§ã€‚
4. **å¢åŠ å•å…ƒæµ‹è¯•**ï¼šå¯¹æ–°å¢çš„æ–‡æ¡£ç”Ÿæˆé…ç½®å’Œç›¸å…³åŠŸèƒ½ç¼–å†™ç›¸åº”çš„å•å…ƒæµ‹è¯•ã€‚

#### ğŸ’»ä¿®æ”¹åçš„ä»£ç ï¼š
```java
// Db2DataSourceConfig.java (ä»…å±•ç¤ºä¿®æ”¹éƒ¨åˆ†)
public class Db2DataSourceConfig {
         //dataSource1.setMinimumIdle(10);//è¿æ¥æ± æœ€å°æ•°
         dataSource1.setMaximumPoolSize(16);//è¿æ¥æ± æœ€å¤§æ•°ï¼Œæ ¸å¿ƒæ•°çš„2å€è¾ƒä¼˜
         dataSource1.setKeepaliveTime(60000);//å’Œæ•°æ®åº“çš„å¿ƒè·³åè®®ï¼Œä¸€åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡
         // ä½¿ç”¨æ—¥å¿—æ¡†æ¶è€Œéç›´æ¥è¾“å‡º
         Logger logger = LoggerFactory.getLogger(Db2DataSourceConfig.class);
         logger.info("è¶…æ—¶æ—¶é—´: {}", dataSource1.getConnectionTimeout());
         sessionFactory.setDataSource(dataSource);
         return sessionFactory.getObject();
     }

// Knife4jConfiguration.java (éƒ¨åˆ†å±•ç¤º)
@Configuration
@EnableSwagger2WebMvc
@EnableKnife4j
public class Knife4jConfiguration {
    private final OpenApiExtensionResolver openApiExtensionResolver;
    @Autowired
    public Knife4jConfiguration(OpenApiExtensionResolver openApiExtensionResolver) {
        this.openApiExtensionResolver = openApiExtensionResolver;
    }

    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("åç«¯-APIæ–‡æ¡£")
                .description("taiwanæ¥å£")
                .termsOfServiceUrl("https://dwmf.erapilot.xyz/")
                .version("1.0")
                .contact(new Contact("yuxing", "", ""))
                .build();
    }

    @Bean
    public Docket api() {
        return new Docket(DocumentationType.SWAGGER_2)
                .groupName("åç«¯æ¥å£")
                .apiInfo(apiInfo())
                .select()
                .apis(RequestHandlerSelectors.basePackage("com.taiwan.controller")
                        .or(RequestHandlerSelectors.withMethodAnnotation(PathHandler.class))
                )
                .paths(PathSelectors.any())
                .build()
                .extensions(openApiExtensionResolver.buildExtensions("åç«¯æ¥å£"))
                .useDefaultResponseMessages(false)
                .forCodeGeneration(true);
    }
}

// RabbitMQConfig.java (éƒ¨åˆ†å±•ç¤º)
public class RabbitMQConfig {
    private static final Logger logger = LoggerFactory.getLogger(RabbitMQConfig.class);
    
    @Bean("bootQueue")
    public Queue bootQueue() {
        // åˆ›å»ºä¸€ä¸ªDurable Queueï¼Œè®¾ç½®é˜Ÿåˆ—çš„åç§°
        logger.info("è·å–çš„äº¤æ¢æœºåå­—æ˜¯: {}", QUEUE_NAME); // ä½¿ç”¨æ—¥å¿—æ¡†æ¶
        return QueueBuilder.durable(QUEUE_NAME).build();
    }

    // å…¶ä»–ä»£ç çœç•¥...
}

// ServerConfig.java (éƒ¨åˆ†å±•ç¤º)
public class ServerConfig {
    private static final Logger logger = LoggerFactory.getLogger(ServerConfig.class);
    
    @Bean
    public WebServerFactoryCustomizer<TomcatServletWebServerFactory> webServerFactoryCustomizer(
            SslConfigProperties sslConfigProperties) {
        return factory -> {
            if (sslConfigProperties.getSsl().isEnabled()) {
                Ssl ssl = new Ssl();
                ssl.setEnabled(true);
                logger.info("è·å–åˆ°çš„é…ç½®å¦‚ä¸‹: {}", sslConfigProperties); // ä½¿ç”¨æ—¥å¿—æ¡†æ¶
                ssl.setKeyStoreType(sslConfigProperties.getSsl().getKeyStoreType());
                ssl.setKeyStore(sslConfigProperties.getSsl().getKeyStore());
                ssl.setKeyStorePassword(sslConfigProperties.getSsl().getKeyStorePassword());
                ssl.setKeyAlias(sslConfigProperties.getSsl().getKeyAlias());
                factory.setSsl(ssl);
            }
        };
    }
    // å…¶ä»–ä»£ç çœç•¥...
}

// æ–°å¢test01.md æ–‡æ¡£è¯´æ˜ï¼ˆä¿æŒä¸å˜ï¼‰
```
